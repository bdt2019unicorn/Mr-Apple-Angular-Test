<form [formGroup]="form" (ngSubmit)="subscribe()">
  <label for="email">Subscribe to our newsletter</label>
  <input
    id="email"
    formControlName="email"
    type="email"
    placeholder="Enter your email"
  />
  <div
    *ngIf="form.get('email')?.invalid && form.get('email')?.touched"
    class="error"
  >
    Please enter a valid email address.
  </div>

  <button type="submit" [disabled]="isSubmitting || form.invalid">
    {{ isSubmitting ? "Subscribing..." : "Subscribe" }}
  </button>

  <div class="success" *ngIf="successMessage">{{ successMessage }}</div>
  <div class="error" *ngIf="errorMessage">{{ errorMessage }}</div>
</form>
